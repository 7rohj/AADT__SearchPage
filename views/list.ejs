<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <title>Document</title>

    <style>
        @font-face {
        font-family: 'KyoboHandwriting2021sjy';
        src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2212@1.0/KyoboHandwriting2021sjy.woff2') format('woff2');
        font-weight: normal;
        font-style: normal;
        }
        body{    
         font-family: "KyoboHandwriting2021sjy";
         color: white;   
         background: linear-gradient(0deg, rgba(215,121,139,1) 0%, rgba(126,57,124,1) 50%); /*, rgba(61,28,81,1) 100%*/
         height: 720vh;
        }

        A {
          text-decoration-line: none;
          color: plum; 
        /*   text-decoration-line: underline; */
        /*   text-decoration-line: overline; */
        /*   text-decoration-line: line-through; */
        /*   text-decoration-line: underline line-through overline; */
        }
        A:hover { color: black; }

        /* div 태그 좌우 정렬 및 전체화면에서의 가운데 정렬*/
        .display-flex {
          display: flex;
          justify-content: center;
          text-align:center;
        }
        
    </style>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
            
</head>

<!-- npm install ejs -->
<body style="background-color: black;">
    <div style="margin-bottom:110px;"></div>
    <div class="container">
    <center>
    <gg style="font-size:3.5em;">구간별 교통량 데이터🥨🌮</gg>
    <div style="margin-bottom:15px;"></div>
    </center>
     

    <script>
        function changeFn(){
            var city  = document.getElementById("city");
            var year  = document.getElementById("year");
            var month  = document.getElementById("month");

            var value = (city.options[city.selectedIndex].value);
            var value2 = (year.options[year.selectedIndex].value);
            var value3 = (month.options[month.selectedIndex].value);

            console.log(value)
            console.log(value2)
            console.log(value3)
            alert(value2 +'년 ' + value3+ '월 ' + value + " 을 선택하셨습니다.");

            // 데이터 넘겨주기
            localStorage.setItem('value',value);
            var resultDiv2 = document.getElementById('result');                   
                
            localStorage.setItem('value2',value2);
            var resultDiv2 = document.getElementById('result2');

            localStorage.setItem('value3',value3);
            var resultDiv2 = document.getElementById('result3');
            /* 		
            var selectedindex = city.selectedIndex;
            alert("value = "+value+" , selectedindex = "+selectedindex); 
            */
        };
    </script>

    <!-- <h3><this id="result"></this></h3> -->
    <div style="margin-bottom:15px;"></div>

   
    <div class="display-flex">
    <h3>spot_id:
    <table>
        <td>
        <tr>
        <td valgn="top">
            <select id = 'city' name="items1">
                <% for (var i = 0; i < posts.length; i++) {%>
                <!-- <option name="city"><%= posts[i].구간 %></option> 구간이랑 지점번호랑 연결 시켜주고 싶은데..-->
                <option name="city"><%= posts[i].지점번호 %></option>
                <% } %>
            </select>
        </td>
        </tr>
    </table>
    </h3>
    <!-- ^.^ -->
    <div style="margin-left:75px;"></div>
  
    <h3>year:
        <table>
          <tr>
          <td valgn="top">
              <select id = 'year' name="items1">
                  <option value="2019">2019년</option>
                  <option value="2020">2020년</option>
                  <option value="2021">2021년</option>
              </select>
          </td>
          </tr>
      </table>
      </h3>
      <!-- ^.^ -->
    <div style="margin-left:75px;"></div>
  
    <h3>month:
        <table>
          <tr>
          <td valgn="top">
              <select id = 'month' name="items1">
                  <option value="1">1월</option>
                  <option value="2">2월</option>
                  <option value="3">3월</option>
                  <option value="4">4월</option>
                  <option value="5">5월</option>
                  <option value="6">6월</option>
                  <option value="7">7월</option>
                  <option value="8">8월</option>
                  <option value="9">9월</option>
                  <option value="10">10월</option>
                  <option value="11">11월</option>
                  <option value="12">12월</option>
              </select>
          </td>
          </tr>
      </table>
      </h3>

      <div style="margin-left:75px;"></div>

      <form method = 'GET' action = 'list2'> <div style="margin-bottom:50%;"></div>
      <button class="btn btn-light btn-lg" onclick="changeFn()">선택</button></form>
        
      <div style="margin-bottom:75px;"></div>
      
    </div> 
    
    <div style="margin-bottom:75px;"></div>
    <h4>원하시는 구간의 지점번호를 CTRL+F 를 이용하여 찾아주세요</h4>
    자세한 정보는 <A href="https://www.road.re.kr/itms/itms_1.asp?pageNum=3&subNum=1"> 교통량정보제공 시스템 </A>에서 확인하실 수 있습니다.

    <!-- https://getbootstrap.kr/docs/5.1/content/tables/ 
        <table class="table table-light table-hover" width="50"> -->
    <div style="margin-bottom:15px;"></div>
    
    <div class="table-responsive">
    <span style="float:left;">       
    <table class="table table-light table-hover" style="width:570px" >
        <thead>
          <tr align=center>
            <th scope="col">Num</th>
            <th scope="col">구간</th>
            <th scope="col">지점번호</th>
            <th scope="col">도</th>
            <th scope="col">시/군</th>
            <th scope="col">구/읍/면</th>
            <th scope="col">동/리</th>            
          </tr>
        </thead>
        <tbody>
            <% for (var i = 0; i < posts.length/2; i++) {%>
          <tr align=center>
            <th scope="row"><%= i+1 %></th>
            <td><strong><%= posts[i].구간 %></strong></td>
            <td><strong><%= posts[i].지점번호 %></strong></td>
            <td><%= posts[i].도 %></td>
            <td><%= posts[i].시군 %></td>
            <td><%= posts[i].구읍면 %></td>
            <td><%= posts[i].동리 %></td>
          </tr>
          <% } %>
        </tbody>
      </table>
    </span> 

    <span style="float:right;">
      <table class="table table-light table-hover" style="width:570px">
        <thead>
          <tr align=center>
            <th scope="col">Num</th>
            <th scope="col">구간</th>
            <th scope="col">지점번호</th>
            <th scope="col">도</th>
            <th scope="col">시/군</th>
            <th scope="col">구/읍/면</th>
            <th scope="col">동/리</th>           
          </tr>
        </thead>
        <tbody>
            <% for (var i = posts.length/2 + 0.5; i < posts.length; i++) {%>
          <tr align=center>
            <th scope="row"><%= i+1 %></th>
            <td><strong><%= posts[i].구간 %></strong></td>
            <td><strong><%= posts[i].지점번호 %></strong></td>
            <td><%= posts[i].도 %></td>
            <td><%= posts[i].시군 %></td>
            <td><%= posts[i].구읍면 %></td>
            <td><%= posts[i].동리 %></td>
          </tr>
          <% } %>
        </tbody>
      </table>
    </span>
    </div>   
</body>
</html>
